{
  "project": "codebase_index",
  "created": "2026-02-18",
  "tasks": [
    {
      "id": "001",
      "summary": "Verify and commit cost model + integration tests",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": []
    },
    {
      "id": "002",
      "summary": "Merge open-source-packaging branch to main",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": []
    },
    {
      "id": "003",
      "summary": "Replace sleep calls with polling waits in thread-based specs",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "Replaced sleep(0.05) in pipeline_lock_spec with Queue-based barrier. Removed unnecessary sleep 0.01 in observability_health_spec. Added poll_until helper to thread_helpers.rb."
    },
    {
      "id": "004",
      "summary": "Wire semantic search into MCP codebase_retrieve tool",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "Modified exe/codebase-index-mcp to attempt Builder.new.build_retriever with rescue fallback to nil. Auto-detects OPENAI_API_KEY. Passes retriever to Server.build."
    },
    {
      "id": "005",
      "summary": "Add extractor-level fixture specs",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "29 new fixture specs across 4 files: job_extractor_fixture_spec.rb (7), policy_extractor_fixture_spec.rb (7), controller_extractor_fixture_spec.rb (7), validator_extractor_fixture_spec.rb (8)."
    },
    {
      "id": "006",
      "summary": "Evaluate MCP HTTP transport support",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "mcp gem v0.6.0 already ships StreamableHTTPTransport with full Rack compatibility. No wrapper needed. Recommend adding exe/codebase-index-mcp-http (~30 lines). See docs/MCP_HTTP_TRANSPORT.md."
    },
    {
      "id": "007",
      "summary": "Benchmark token estimation accuracy",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "Benchmarked 19 files against tiktoken cl100k_base and o200k_base. Mean overestimation: 26.2%. Actual chars/token: 4.41. Recommendation: change divisor from 3.5 to 4.0 (reduces error to 10.6%). See docs/TOKEN_BENCHMARK.md."
    },
    {
      "id": "008",
      "summary": "Add concurrent extraction with thread-safety audit",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "Added concurrent_extraction config flag (default: false). ModelNameCache pre-computed before threads spawn. DependencyGraph registration sequential post-join. 6 specs."
    },
    {
      "id": "009",
      "summary": "Extract concerns as standalone units",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "ConcernExtractor: 19 specs. Scans app/models/concerns/ and app/controllers/concerns/. Registered in EXTRACTORS, TYPE_TO_EXTRACTOR_KEY, FILE_BASED, and TARGET_PATTERNS."
    },
    {
      "id": "010",
      "summary": "Extract routes as standalone units",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "RouteExtractor: 16 specs. Runtime introspection via Rails.application.routes.routes. Registered in EXTRACTORS and TYPE_TO_EXTRACTOR_KEY (runtime-only, no FILE_BASED)."
    },
    {
      "id": "011",
      "summary": "Extract middleware chain",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "MiddlewareExtractor: 10 specs. Runtime introspection via Rails.application.middleware. Single unit for full stack. Registered in EXTRACTORS and TYPE_TO_EXTRACTOR_KEY."
    },
    {
      "id": "012",
      "summary": "Extract I18n translations",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "I18nExtractor: 14 specs. YAML parsing of config/locales/. Registered in EXTRACTORS, TYPE_TO_EXTRACTOR_KEY, FILE_BASED, and TARGET_PATTERNS."
    },
    {
      "id": "013",
      "summary": "Extract Pundit authorization policies",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "PunditExtractor: 17 specs. Detects ApplicationPolicy inheritance, extracts authorization methods. Registered in EXTRACTORS, TYPE_TO_EXTRACTOR_KEY, FILE_BASED, and TARGET_PATTERNS."
    },
    {
      "id": "014",
      "summary": "Extract configuration and initializers",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "ConfigurationExtractor: 16 specs. Scans config/initializers/ and config/environments/. Registered in EXTRACTORS, TYPE_TO_EXTRACTOR_KEY, FILE_BASED, and TARGET_PATTERNS."
    },
    {
      "id": "015",
      "summary": "Extract view templates (ERB/HAML/Slim)",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "ERB-only MVP: ViewTemplateExtractor with 24 specs. Scans app/views/**/*.erb. Extracts render calls, instance variables, helper calls. Registered in EXTRACTORS, TYPE_TO_EXTRACTOR_KEY, FILE_BASED, and TARGET_PATTERNS."
    },
    {
      "id": "016",
      "summary": "Extract engines and mountable gems",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "EngineExtractor: 18 specs. Runtime introspection via Rails::Engine.subclasses. Mount path detection, route count, isolate_namespace. Registered in EXTRACTORS and TYPE_TO_EXTRACTOR_KEY (runtime-only, no FILE_BASED)."
    },
    {
      "id": "017",
      "summary": "Fix ModelNameCache test-order-dependent flake",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "Root cause: controller_extractor_fixture_spec.rb exercised real ModelNameCache without cleanup. Fix: global after(:each) reset! in spec_helper.rb + per-file cleanup in 3 spec files. Verified with 3 random seeds."
    },
    {
      "id": "018",
      "summary": "Update token estimation divisor from 3.5 to 4.0",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "Updated 10 occurrences across 5 source files, recalculated expected values in 4 spec files, updated CLAUDE.md and benchmark spec. Mean overestimation reduced from 26.2% to 10.6%."
    },
    {
      "id": "019",
      "summary": "Add exe/codebase-index-mcp-http for HTTP transport",
      "status": "completed",
      "completed_at": "2026-02-18",
      "blocked_by": [],
      "notes": "Created exe/codebase-index-mcp-http (65 lines) with StreamableHTTPTransport + Rack. 6 smoke specs. Updated gemspec executables. rackup is documented requirement, not runtime dep."
    }
  ]
}
